exports.id=897,exports.ids=[897],exports.modules={648:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},1687:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,85814,23)),Promise.resolve().then(s.bind(s,47702)),Promise.resolve().then(s.bind(s,64616)),Promise.resolve().then(s.bind(s,28211))},4780:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(49384),a=s(82348);function n(...e){return(0,a.QP)((0,r.$)(e))}},28211:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>m,A:()=>f});var r=s(60687),a=s(42848),n=s(91042),o=s(43210),i=s(6475);let l=(0,i.createServerReference)("7fa15a7309726214326a56027583691615951401c2",i.callServer,void 0,i.findSourceMapURL,"setToken");var d=s(67073);let c=(0,o.createContext)(null),m=({children:e})=>{let[t,s]=(0,o.useState)(null),[i,m]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=a.j.onAuthStateChanged(async e=>{if(s(e??null),e){let t=await e.getIdTokenResult(),s=t.token,r=e.refreshToken;m(t.claims??null),s&&r&&await l({token:s,refreshToken:r})}else await (0,d.e)()});return()=>e()},[]);let f=async()=>{await a.j.signOut()},u=async()=>{let e=new n.HF;await (0,n.df)(a.j,e)},h=async(e,t)=>{await (0,n.x9)(a.j,e,t)};return(0,r.jsx)(c.Provider,{value:{currentUser:t,logout:f,loginWithGoogle:u,customClaims:i,loginWithEmail:h},children:e})},f=()=>(0,o.useContext)(c)},42848:(e,t,s)=>{"use strict";let r,a;s.d(t,{I:()=>a,j:()=>r});var n=s(67989),o=s(91042),i=s(70146);let l=(0,n.Dk)();if(l.length){let e=l[0];r=(0,o.xI)(e),a=(0,i.c7)(e)}else{let e=(0,n.Wp)({apiKey:"AIzaSyAhdJpA6zZergpf-X2lRFWYfVtr5jlwNe4",authDomain:"nextfifo.firebaseapp.com",projectId:"nextfifo",storageBucket:"nextfifo.firebasestorage.app",messagingSenderId:"230621740189",appId:"1:230621740189:web:83244ec8f636c54cc6e874"});r=(0,o.xI)(e),a=(0,i.c7)(e)}},47702:(e,t,s)=>{"use strict";s.d(t,{default:()=>w});var r=s(60687),a=s(28211),n=s(85814),o=s.n(n),i=s(43210),l=s(29398),d=s(89698),c=s(4780);let m=l.bL,f=l.l9;l.YJ,l.ZL,l.Pb,l.z6,i.forwardRef(({className:e,inset:t,children:s,...a},n)=>(0,r.jsxs)(l.ZP,{ref:n,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[s,(0,r.jsx)(d.vKP,{className:"ml-auto"})]})).displayName=l.ZP.displayName,i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.G5,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=l.G5.displayName;let u=i.forwardRef(({className:e,sideOffset:t=4,...s},a)=>(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:a,sideOffset:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));u.displayName=l.UC.displayName;let h=i.forwardRef(({className:e,inset:t,...s},a)=>(0,r.jsx)(l.q7,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...s}));h.displayName=l.q7.displayName,i.forwardRef(({className:e,children:t,checked:s,...a},n)=>(0,r.jsxs)(l.H_,{ref:n,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...a,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.Srz,{className:"h-4 w-4"})})}),t]})).displayName=l.H_.displayName,i.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(l.hN,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.RiX,{className:"h-4 w-4 fill-current"})})}),t]})).displayName=l.hN.displayName;let p=i.forwardRef(({className:e,inset:t,...s},a)=>(0,r.jsx)(l.JU,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));p.displayName=l.JU.displayName;let v=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));v.displayName=l.wv.displayName;var x=s(11096);let b=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(x.bL,{ref:s,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));b.displayName=x.bL.displayName,i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(x._V,{ref:s,className:(0,c.cn)("aspect-square h-full w-full",e),...t})).displayName=x._V.displayName;let g=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(x.H4,{ref:s,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));g.displayName=x.H4.displayName;var y=s(30474),j=s(16189);function w(){let e=(0,j.useRouter)(),t=(0,a.A)();return(0,r.jsxs)("div",{children:[!!t?.currentUser&&(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{children:(0,r.jsxs)(b,{children:[!!t.currentUser.photoURL&&(0,r.jsx)(y.default,{src:t.currentUser.photoURL,alt:`${t.currentUser.displayName} avatar`,width:70,height:70}),(0,r.jsx)(g,{className:"text-sky-950",children:(t.currentUser.displayName||t.currentUser.email)?.[0]})]})}),(0,r.jsxs)(u,{children:[(0,r.jsxs)(p,{children:[(0,r.jsx)("div",{children:t.currentUser.displayName}),(0,r.jsx)("div",{className:"font-normal text-xs",children:t.currentUser.email})]}),(0,r.jsx)(v,{}),(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(o(),{href:"/account",children:"My Account"})}),!!t.customClaims?.admin&&(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(o(),{href:"/admin-dashboard",children:"Admin Dashboard"})}),!t.customClaims?.admin&&(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(o(),{href:"/account/my-favourites",children:"My Favourites"})}),(0,r.jsx)(h,{onClick:async()=>{await t.logout(),e.refresh()},children:"Logout"})]})]}),!t?.currentUser&&(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(o(),{href:"/login",className:"uppercase tracking-widest hover:underline",children:"Login"}),(0,r.jsx)("div",{className:"h-8 w-[1px] bg-white/50"}),(0,r.jsx)(o(),{href:"/register",className:"uppercase tracking-widest hover:underline",children:"Signup"})]})]})}},48482:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/adolfo/nextfirebase/src/components/ui/sonner.tsx","Toaster")},59393:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{W:()=>c,e:()=>d});var a=s(91199);s(42087);var n=s(89027),o=s(74208),i=s(33331),l=e([n]);n=(l.then?(await l)():l)[0];let d=async()=>{let e=await (0,o.UL)();e.delete("firebaseAuthToken"),e.delete("firebaseAuthRefreshToken")},c=async({token:e,refreshToken:t})=>{try{let s=await n.j2.verifyIdToken(e);if(!s)return;let r=await n.j2.getUser(s.uid);process.env.ADMIN_EMAIL!==r.email||r.customClaims?.admin||n.j2.setCustomUserClaims(s.uid,{admin:!0});let a=await (0,o.UL)();a.set("firebaseAuthToken",e,{httpOnly:!0,secure:!0}),a.set("firebaseAuthRefreshToken",t,{httpOnly:!0,secure:!0})}catch(e){console.log(e)}};(0,i.D)([d,c]),(0,a.A)(d,"7f4855f981e6346f4e795faa44be52c93718e0d325",null),(0,a.A)(c,"7fa15a7309726214326a56027583691615951401c2",null),r()}catch(e){r(e)}})},61135:()=>{},64200:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},64616:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>o});var r=s(60687),a=s(10218),n=s(52581);let o=({...e})=>{let{theme:t="system"}=(0,a.D)();return(0,r.jsx)(n.l$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})}},64735:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4536,23)),Promise.resolve().then(s.bind(s,82192)),Promise.resolve().then(s.bind(s,48482)),Promise.resolve().then(s.bind(s,80543))},67073:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(6475);let a=(0,r.createServerReference)("7f4855f981e6346f4e795faa44be52c93718e0d325",r.callServer,void 0,r.findSourceMapURL,"removeToken")},80543:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>a});var r=s(12907);let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/adolfo/nextfirebase/src/context/auth.tsx","AuthProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/adolfo/nextfirebase/src/context/auth.tsx","useAuth")},82192:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/adolfo/nextfirebase/src/components/auth-buttons.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/adolfo/nextfirebase/src/components/auth-buttons.tsx","default")},89027:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{let c,m;s.d(t,{j2:()=>m,kA:()=>c});var a=s(7879),n=s(9801),o=s(46675),i=s.n(o),l=s(14276),d=e([a,n,l]);[a,n,l]=d.then?(await d)():d;let f={type:"service_account",project_id:"nextfifo",private_key_id:process.env.FIREBASE_PRIVATE_KEY_ID,private_key:process.env.FIREBASE_PRIVATE_KEY,client_email:process.env.FIREBASE_CLIENT_EMAIL,client_id:process.env.FIREBASE_CLIENT_ID,auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40nextfifo.iam.gserviceaccount.com",universe_domain:"googleapis.com"},u=(0,n.getApps)();if(u.length){let e=u[0];c=(0,a.getFirestore)(e),m=(0,l.getAuth)(e)}else{let e=i().initializeApp({credential:i().credential.cert(f)});c=(0,a.getFirestore)(e),m=(0,l.getAuth)(e)}r()}catch(e){r(e)}})},94431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>f});var r=s(37413);s(61135);var a=s(4536),n=s.n(a),o=s(80543),i=s(82192),l=s(18898),d=s(8180),c=s.n(d),m=s(48482);let f={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${c().className} antialiased`,children:(0,r.jsxs)(o.AuthProvider,{children:[(0,r.jsxs)("nav",{className:"bg-sky-950 text-white p-5 h-24 flex items-center justify-between z-10 relative",children:[(0,r.jsxs)(n(),{href:"/",className:"text-3xl tracking-widest flex gap-2 items-center uppercase",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("span",{children:"Fire Homes"})]}),(0,r.jsxs)("ul",{className:"flex gap-6 items-center",children:[(0,r.jsx)("li",{children:(0,r.jsx)(n(),{href:"/property-search",className:"uppercase tracking-widest hover:underline",children:"Property search"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{})})]})]}),e,(0,r.jsx)(m.Toaster,{richColors:!0,closeButton:!0})]})})})}}};