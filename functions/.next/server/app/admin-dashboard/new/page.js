(()=>{var e={};e.id=806,e.ids=[806],e.modules={3276:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(37413),s=t(22538),o=t(78963),n=t(95626);function i(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(s.BI,{items:[{href:"/admin-dashboard",label:"Dashboard"},{label:"New Property"}]}),(0,a.jsxs)(o.Zp,{className:"mt-5",children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{className:"text-3xl font-bold",children:"New Property"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(n.default,{})})]})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},9801:e=>{"use strict";e.exports=import("firebase-admin/app")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37283:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4536,23)),Promise.resolve().then(t.bind(t,95626))},46675:e=>{"use strict";e.exports=require("firebase-admin")},49572:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{"7f1645f8230038495e59f98ebb355ebfc14bd644a1":()=>o.I,"7f4855f981e6346f4e795faa44be52c93718e0d325":()=>s.e,"7fa15a7309726214326a56027583691615951401c2":()=>s.W,"7fb74a3a61d5e24a7434f6a45b5174db4301be668b":()=>n.d});var s=t(59393),o=t(85146),n=t(7486),i=e([s,o,n]);[s,o,n]=i.then?(await i)():i,a()}catch(e){a(e)}})},51355:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,85814,23)),Promise.resolve().then(t.bind(t,81820))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},81820:(e,r,t)=>{"use strict";t.d(r,{default:()=>m});var a=t(60687),s=t(37570),o=t(28211);let n=(0,t(62688).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var i=t(6475);let d=(0,i.createServerReference)("7f1645f8230038495e59f98ebb355ebfc14bd644a1",i.callServer,void 0,i.findSourceMapURL,"createProperty");var l=t(64204),p=t(16189),c=t(70146),u=t(42848),f=t(52581);function m(){let e=(0,o.A)(),r=(0,p.useRouter)(),t=async t=>{let a=await e?.currentUser?.getIdToken();if(!a)return;let{images:s,...o}=t,n=await d(o,a);if(n.error||!n.propertyId)return void f.oR.error("Error!",{description:n.message});let i=[],p=[];s.forEach((e,r)=>{if(e.file){let t=`properties/${n.propertyId}/${Date.now()}-${r}-${e.file.name}`;p.push(t);let a=(0,c.KR)(u.I,t);i.push((0,c.bp)(a,e.file))}}),await Promise.all(i),await (0,l.d)({propertyId:n.propertyId,images:p},a),f.oR.success("Success!",{description:"Property created"}),r.push("/admin-dashboard")};return(0,a.jsx)("div",{children:(0,a.jsx)(s.A,{handleSubmit:t,submitButtonLabel:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n,{})," Create Property"]})})})}},85146:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{I:()=>l});var s=t(91199);t(42087);var o=t(89027),n=t(39178),i=t(33331),d=e([o]);o=(d.then?(await d)():d)[0];let l=async(e,r)=>{if(!(await o.j2.verifyIdToken(r)).admin)return{error:!0,message:"Unauthorized"};let t=n.HW.safeParse(e);return t.success?{propertyId:(await o.kA.collection("properties").add({...e,created:new Date,updated:new Date})).id}:{error:!0,message:t.error.issues[0]?.message??"An error occurred"}};(0,i.D)([l]),(0,s.A)(l,"7f1645f8230038495e59f98ebb355ebfc14bd644a1",null),a()}catch(e){a(e)}})},95626:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/adolfo/nextfirebase/src/app/admin-dashboard/new/new-property-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/adolfo/nextfirebase/src/app/admin-dashboard/new/new-property-form.tsx","default")},98118:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>l});var a=t(65239),s=t(48088),o=t(88170),n=t.n(o),i=t(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["admin-dashboard",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3276)),"/home/adolfo/nextfirebase/src/app/admin-dashboard/new/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,40186)),"/home/adolfo/nextfirebase/src/app/admin-dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/home/adolfo/nextfirebase/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["/home/adolfo/nextfirebase/src/app/admin-dashboard/new/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin-dashboard/new/page",pathname:"/admin-dashboard/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[447,431,322,511,846,303,59,897,604],()=>t(98118));module.exports=a})();