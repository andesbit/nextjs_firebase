(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{285:(e,r,t)=>{"use strict";t.d(r,{$:()=>i,r:()=>d});var a=t(5155),s=t(2115),n=t(9708),o=t(2085),l=t(9434);let d=(0,o.F)("inline-flex uppercase tracking-widest items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,r)=>{let{className:t,variant:s,size:o,asChild:i=!1,...c}=e,u=i?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:s,size:o,className:t})),ref:r,...c})});i.displayName="Button"},412:(e,r,t)=>{"use strict";t.d(r,{e:()=>s});var a=t(4477);let s=(0,a.createServerReference)("7f4855f981e6346f4e795faa44be52c93718e0d325",a.callServer,void 0,a.findSourceMapURL,"removeToken")},667:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>u,A:()=>f});var a=t(5155),s=t(8234),n=t(6203),o=t(2115),l=t(4477);let d=(0,l.createServerReference)("7fa15a7309726214326a56027583691615951401c2",l.callServer,void 0,l.findSourceMapURL,"setToken");var i=t(412);let c=(0,o.createContext)(null),u=e=>{let{children:r}=e,[t,l]=(0,o.useState)(null),[u,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=s.j.onAuthStateChanged(async e=>{if(l(null!=e?e:null),e){let r=await e.getIdTokenResult(),t=r.token,a=e.refreshToken,s=r.claims;f(null!=s?s:null),t&&a&&await d({token:t,refreshToken:a})}else await (0,i.e)()});return()=>e()},[]);let m=async()=>{await s.j.signOut()},p=async()=>{let e=new n.HF;await (0,n.df)(s.j,e)},x=async(e,r)=>{await (0,n.x9)(s.j,e,r)};return(0,a.jsx)(c.Provider,{value:{currentUser:t,logout:m,loginWithGoogle:p,customClaims:u,loginWithEmail:x},children:r})},f=()=>(0,o.useContext)(c)},1504:(e,r,t)=>{"use strict";t.d(r,{default:()=>W});var a=t(5155),s=t(2115),n=t(6081),o=t(6101),l=t(5452),d=t(5185),i=t(9708),c="AlertDialog",[u,f]=(0,n.A)(c,[l.Hs]),m=(0,l.Hs)(),p=e=>{let{__scopeAlertDialog:r,...t}=e,s=m(r);return(0,a.jsx)(l.bL,{...s,...t,modal:!0})};p.displayName=c;var x=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,a.jsx)(l.l9,{...n,...s,ref:r})});x.displayName="AlertDialogTrigger";var w=e=>{let{__scopeAlertDialog:r,...t}=e,s=m(r);return(0,a.jsx)(l.ZL,{...s,...t})};w.displayName="AlertDialogPortal";var h=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,a.jsx)(l.hJ,{...n,...s,ref:r})});h.displayName="AlertDialogOverlay";var v="AlertDialogContent",[g,y]=u(v),j=(0,i.Dc)("AlertDialogContent"),b=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,children:n,...i}=e,c=m(t),u=s.useRef(null),f=(0,o.s)(r,u),p=s.useRef(null);return(0,a.jsx)(l.G$,{contentName:v,titleName:N,docsSlug:"alert-dialog",children:(0,a.jsx)(g,{scope:t,cancelRef:p,children:(0,a.jsxs)(l.UC,{role:"alertdialog",...c,...i,ref:f,onOpenAutoFocus:(0,d.m)(i.onOpenAutoFocus,e=>{var r;e.preventDefault(),null==(r=p.current)||r.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(j,{children:n}),(0,a.jsx)(S,{contentRef:u})]})})})});b.displayName=v;var N="AlertDialogTitle",R=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,a.jsx)(l.hE,{...n,...s,ref:r})});R.displayName=N;var P="AlertDialogDescription",A=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,a.jsx)(l.VY,{...n,...s,ref:r})});A.displayName=P;var C=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,a.jsx)(l.bm,{...n,...s,ref:r})});C.displayName="AlertDialogAction";var I="AlertDialogCancel",D=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,{cancelRef:n}=y(I,t),d=m(t),i=(0,o.s)(r,n);return(0,a.jsx)(l.bm,{...d,...s,ref:i})});D.displayName=I;var S=e=>{let{contentRef:r}=e,t="`".concat(v,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(v,"` by passing a `").concat(P,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(v,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return s.useEffect(()=>{var e;document.getElementById(null==(e=r.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(t)},[t,r]),null},k=t(9434),F=t(285);let z=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(h,{className:(0,k.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r})});z.displayName=h.displayName;let U=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsxs)(w,{children:[(0,a.jsx)(z,{}),(0,a.jsx)(b,{ref:r,className:(0,k.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]})});U.displayName=b.displayName;let Y=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,k.cn)("flex flex-col space-y-2 text-center sm:text-left",r),...t})};Y.displayName="AlertDialogHeader";let E=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,k.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};E.displayName="AlertDialogFooter";let L=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(R,{ref:r,className:(0,k.cn)("text-lg font-semibold",t),...s})});L.displayName=R.displayName;let M=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(A,{ref:r,className:(0,k.cn)("text-sm text-muted-foreground",t),...s})});M.displayName=A.displayName;let O=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(C,{ref:r,className:(0,k.cn)((0,F.r)(),t),...s})});O.displayName=C.displayName;let _=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(D,{ref:r,className:(0,k.cn)((0,F.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...s})});_.displayName=D.displayName;var T=t(2523),$=t(5057),B=t(412),J=t(667),V=t(6203),Z=t(4477);let X=(0,Z.createServerReference)("7f2b5d8c415d29b1a033d3bbe110f62523ec41f5e9",Z.callServer,void 0,Z.findSourceMapURL,"deleteUserFavourites");var H=t(6671);function W(){let e=(0,J.A)(),[r,t]=(0,s.useState)(!1),[n,o]=(0,s.useState)(""),l=async()=>{var r;if(null==e||null==(r=e.currentUser)?void 0:r.email){t(!0);try{await (0,V.kZ)(e.currentUser,V.IX.credential(e.currentUser.email,n)),await X(),await (0,V.hG)(e.currentUser),await (0,B.e)(),H.oR.success("Your account was deleted successfully")}catch(e){H.oR.error("auth/invalid-credential"===e.code?"Your current password is incorrect":"An error occurred")}t(!1)}};return(0,a.jsxs)(p,{children:[(0,a.jsx)(x,{asChild:!0,children:(0,a.jsx)(F.$,{variant:"destructive",className:"w-full",children:"Delete Account"})}),(0,a.jsxs)(U,{children:[(0,a.jsxs)(Y,{children:[(0,a.jsx)(L,{children:"Are you sure you want to delete your account?"}),(0,a.jsx)(M,{asChild:!0,children:(0,a.jsxs)("div",{children:["This action cannot be undone. This will permanently delete your account and remove all your data from our servers.",(0,a.jsxs)("div",{children:[(0,a.jsx)($.Label,{children:"Enter current password to continue"}),(0,a.jsx)(T.p,{value:n,onChange:e=>o(e.target.value),type:"password"})]})]})})]}),(0,a.jsxs)(E,{children:[(0,a.jsx)(_,{children:"Cancel"}),(0,a.jsx)(O,{onClick:l,disabled:r,children:r?"Deleting...":"Delete Account"})]})]})]})}},2523:(e,r,t)=>{"use strict";t.d(r,{p:()=>o});var a=t(5155),s=t(2115),n=t(9434);let o=s.forwardRef((e,r)=>{let{className:t,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},3350:(e,r,t)=>{Promise.resolve().then(t.bind(t,1504)),Promise.resolve().then(t.bind(t,4139)),Promise.resolve().then(t.bind(t,5057))},3869:(e,r,t)=>{"use strict";t.d(r,{A:()=>n,n:()=>s});var a=t(2531);let s=a.Yj().refine(e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(e),{message:"Password must contain at least 6 characters, at least 1 uppercase letter, 1 lowercase letter, 1 number, and 1 special character"}),n=a.Ik({email:a.Yj().email(),name:a.Yj().min(2,"Name must be at least 2 characters"),password:s,passwordConfirm:a.Yj()}).superRefine((e,r)=>{e.password!==e.passwordConfirm&&r.addIssue({message:"Passwords do not match",path:["passwordConfirm"],code:"custom"})})},4139:(e,r,t)=>{"use strict";t.d(r,{default:()=>x});var a=t(5155),s=t(285),n=t(7759),o=t(2523),l=t(667),d=t(3869),i=t(221),c=t(6203),u=t(2177),f=t(6671),m=t(2531);let p=m.Ik({currentPassword:d.n,newPassword:d.n,newPasswordConfirm:m.Yj()}).superRefine((e,r)=>{e.newPassword!==e.newPasswordConfirm&&r.addIssue({message:"Passwords do not match",path:["newPasswordConfirm"],code:"custom"})});function x(){let e=(0,l.A)(),r=(0,u.mN)({resolver:(0,i.u)(p),defaultValues:{currentPassword:"",newPassword:"",newPasswordConfirm:""}}),t=async t=>{let a=null==e?void 0:e.currentUser;if(null==a?void 0:a.email)try{await (0,c.kZ)(a,c.IX.credential(a.email,t.currentPassword)),await (0,c.f3)(a,t.newPassword),f.oR.success("Password updated successfully"),r.reset()}catch(e){console.log({e}),(0,f.oR)("auth/invalid-credential"===e.code?"Your current password is incorrect":"An error occurred")}};return(0,a.jsxs)("div",{className:"pt-5 mt-5 border-t",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold pb-2",children:"Update Password"}),(0,a.jsx)(n.lV,{...r,children:(0,a.jsx)("form",{onSubmit:r.handleSubmit(t),children:(0,a.jsxs)("fieldset",{className:"flex flex-col gap-4",disabled:r.formState.isSubmitting,children:[(0,a.jsx)(n.zB,{control:r.control,name:"currentPassword",render:e=>{let{field:r}=e;return(0,a.jsxs)(n.eI,{children:[(0,a.jsx)(n.lR,{children:"Current Password"}),(0,a.jsx)(n.MJ,{children:(0,a.jsx)(o.p,{...r,placeholder:"Current Password",type:"password"})}),(0,a.jsx)(n.C5,{})]})}}),(0,a.jsx)(n.zB,{control:r.control,name:"newPassword",render:e=>{let{field:r}=e;return(0,a.jsxs)(n.eI,{children:[(0,a.jsx)(n.lR,{children:"New Password"}),(0,a.jsx)(n.MJ,{children:(0,a.jsx)(o.p,{...r,placeholder:"New Password",type:"password"})}),(0,a.jsx)(n.C5,{})]})}}),(0,a.jsx)(n.zB,{control:r.control,name:"newPasswordConfirm",render:e=>{let{field:r}=e;return(0,a.jsxs)(n.eI,{children:[(0,a.jsx)(n.lR,{children:"Confirm New Password"}),(0,a.jsx)(n.MJ,{children:(0,a.jsx)(o.p,{...r,placeholder:"Confirm New Password",type:"password"})}),(0,a.jsx)(n.C5,{})]})}}),(0,a.jsx)(s.$,{type:"submit",children:"Update Password"})]})})})]})}},5057:(e,r,t)=>{"use strict";t.d(r,{Label:()=>i});var a=t(5155),s=t(2115),n=t(968),o=t(2085),l=t(9434);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.b,{ref:r,className:(0,l.cn)(d(),t),...s})});i.displayName=n.b.displayName},7759:(e,r,t)=>{"use strict";t.d(r,{C5:()=>h,MJ:()=>w,eI:()=>p,lR:()=>x,lV:()=>i,zB:()=>u});var a=t(5155),s=t(2115),n=t(9708),o=t(2177),l=t(9434),d=t(5057);let i=o.Op,c=s.createContext({}),u=e=>{let{...r}=e;return(0,a.jsx)(c.Provider,{value:{name:r.name},children:(0,a.jsx)(o.xI,{...r})})},f=()=>{let e=s.useContext(c),r=s.useContext(m),{getFieldState:t,formState:a}=(0,o.xW)(),n=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},m=s.createContext({}),p=s.forwardRef((e,r)=>{let{className:t,...n}=e,o=s.useId();return(0,a.jsx)(m.Provider,{value:{id:o},children:(0,a.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",t),...n})})});p.displayName="FormItem";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e,{error:n,formItemId:o}=f();return(0,a.jsx)(d.Label,{ref:r,className:(0,l.cn)(n&&"text-destructive",t),htmlFor:o,...s})});x.displayName="FormLabel";let w=s.forwardRef((e,r)=>{let{...t}=e,{error:s,formItemId:o,formDescriptionId:l,formMessageId:d}=f();return(0,a.jsx)(n.DX,{ref:r,id:o,"aria-describedby":s?"".concat(l," ").concat(d):"".concat(l),"aria-invalid":!!s,...t})});w.displayName="FormControl",s.forwardRef((e,r)=>{let{className:t,...s}=e,{formDescriptionId:n}=f();return(0,a.jsx)("p",{ref:r,id:n,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",t),...s})}).displayName="FormDescription";let h=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e,{error:o,formMessageId:d}=f(),i=o?String(null==o?void 0:o.message):s;return i?(0,a.jsx)("p",{ref:r,id:d,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",t),...n,children:i}):null});h.displayName="FormMessage"},8234:(e,r,t)=>{"use strict";let a,s;t.d(r,{I:()=>s,j:()=>a});var n=t(3915),o=t(6203),l=t(858);let d=(0,n.Dk)();if(d.length){let e=d[0];a=(0,o.xI)(e),s=(0,l.c7)(e)}else{let e=(0,n.Wp)({apiKey:"AIzaSyAhdJpA6zZergpf-X2lRFWYfVtr5jlwNe4",authDomain:"nextfifo.firebaseapp.com",projectId:"nextfifo",storageBucket:"nextfifo.firebasestorage.app",messagingSenderId:"230621740189",appId:"1:230621740189:web:83244ec8f636c54cc6e874"});a=(0,o.xI)(e),s=(0,l.c7)(e)}},9434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(2596),s=t(9688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[811,848,680,299,891,263,452,441,684,358],()=>r(3350)),_N_E=e.O()}]);