(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[806],{412:(e,r,t)=>{"use strict";t.d(r,{e:()=>l});var a=t(4477);let l=(0,a.createServerReference)("7f4855f981e6346f4e795faa44be52c93718e0d325",a.callServer,void 0,a.findSourceMapURL,"removeToken")},667:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>d,A:()=>f});var a=t(5155),l=t(8234),n=t(6203),c=t(2115),s=t(4477);let i=(0,s.createServerReference)("7fa15a7309726214326a56027583691615951401c2",s.callServer,void 0,s.findSourceMapURL,"setToken");var o=t(412);let u=(0,c.createContext)(null),d=e=>{let{children:r}=e,[t,s]=(0,c.useState)(null),[d,f]=(0,c.useState)(null);(0,c.useEffect)(()=>{let e=l.j.onAuthStateChanged(async e=>{if(s(null!=e?e:null),e){let r=await e.getIdTokenResult(),t=r.token,a=e.refreshToken,l=r.claims;f(null!=l?l:null),t&&a&&await i({token:t,refreshToken:a})}else await (0,o.e)()});return()=>e()},[]);let p=async()=>{await l.j.signOut()},v=async()=>{let e=new n.HF;await (0,n.df)(l.j,e)},h=async(e,r)=>{await (0,n.x9)(l.j,e,r)};return(0,a.jsx)(u.Provider,{value:{currentUser:t,logout:p,loginWithGoogle:v,customClaims:d,loginWithEmail:h},children:r})},f=()=>(0,c.useContext)(u)},5765:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.bind(t,8027))},8027:(e,r,t)=>{"use strict";t.d(r,{default:()=>v});var a=t(5155),l=t(3444),n=t(667);let c=(0,t(9946).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var s=t(4477);let i=(0,s.createServerReference)("7f1645f8230038495e59f98ebb355ebfc14bd644a1",s.callServer,void 0,s.findSourceMapURL,"createProperty");var o=t(6950),u=t(5695),d=t(858),f=t(8234),p=t(6671);function v(){let e=(0,n.A)(),r=(0,u.useRouter)(),t=async t=>{var a;let l=await (null==e||null==(a=e.currentUser)?void 0:a.getIdToken());if(!l)return;let{images:n,...c}=t,s=await i(c,l);if(s.error||!s.propertyId)return void p.oR.error("Error!",{description:s.message});let u=[],v=[];n.forEach((e,r)=>{if(e.file){let t="properties/".concat(s.propertyId,"/").concat(Date.now(),"-").concat(r,"-").concat(e.file.name);v.push(t);let a=(0,d.KR)(f.I,t);u.push((0,d.bp)(a,e.file))}}),await Promise.all(u),await (0,o.d)({propertyId:s.propertyId,images:v},l),p.oR.success("Success!",{description:"Property created"}),r.push("/admin-dashboard")};return(0,a.jsx)("div",{children:(0,a.jsx)(l.A,{handleSubmit:t,submitButtonLabel:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{})," Create Property"]})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[811,105,309,848,680,874,299,891,63,263,925,641,615,441,684,358],()=>r(5765)),_N_E=e.O()}]);